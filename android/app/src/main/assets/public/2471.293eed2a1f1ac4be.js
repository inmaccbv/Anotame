"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2471],{5950:(M,m,s)=>{s.r(m),s.d(m,{RegistrocliPageModule:()=>E});var f=s(6814),r=s(6223),l=s(878),d=s(9634),p=s(5861),e=s(9212),b=s(9306);function _(o,n){1&o&&(e.TgZ(0,"ion-label",17),e._uU(1,"Nombre requerido"),e.qZA())}function Z(o,n){1&o&&(e.TgZ(0,"ion-label",17),e._uU(1,"Apellido requerido"),e.qZA())}function h(o,n){1&o&&(e.TgZ(0,"ion-label",17),e._uU(1,"Email requerido"),e.qZA())}function P(o,n){1&o&&(e.TgZ(0,"ion-label",17),e._uU(1,"Email no valido"),e.qZA())}function T(o,n){1&o&&(e.TgZ(0,"ion-label",17),e._uU(1,"Tel\xe9fono requerido"),e.qZA())}function I(o,n){1&o&&(e.TgZ(0,"ion-label",17),e._uU(1,"Tel\xe9fono no valido"),e.qZA())}function q(o,n){1&o&&(e.TgZ(0,"ion-label",17),e._uU(1,"Password requerido"),e.qZA())}function A(o,n){1&o&&(e.TgZ(0,"ion-label",17),e._uU(1,"Longitud minima de 6 caracteres"),e.qZA())}function R(o,n){1&o&&(e.TgZ(0,"ion-label",17),e._uU(1,"Confirmar Password"),e.qZA())}function w(o,n){1&o&&(e.TgZ(0,"ion-label",18),e._uU(1,"Los passwords no coinciden"),e.qZA())}function N(o,n){1&o&&e._UZ(0,"ion-label",17)}const U=[{path:"",component:(()=>{var o;class n{constructor(t,i,a){this.formBuilder=t,this.clienteLogin=i,this.alertController=a,this.submitted=!1,this.ionicForm=this.formBuilder.group({nombre:new r.NI("",r.kI.compose([r.kI.required])),apellido:new r.NI("",r.kI.compose([r.kI.required])),email:new r.NI("",r.kI.compose([r.kI.required,r.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")])),password:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(6)])),telf:new r.NI("",r.kI.compose([r.kI.required])),confirmPassword:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(6)])),rol:new r.NI("cliente",r.kI.compose([r.kI.required]))},{validators:this.MustMatch("password","confirmPassword")})}get f(){return this.ionicForm.controls}MustMatch(t,i){return a=>{const c=a.controls[i];c.errors&&!c.errors.MustMatch||c.setErrors(a.controls[t].value!==c.value?{MustMatch:!0}:null)}}get errorControl(){return this.ionicForm.controls}alert(t){console.log(t.target),console.log({nombre:t.target.nombre,apellido:t.target.apellido,email:t.target.email,telf:t.target.telf,password:t.target.password,rol:t.target.rol}),this.submitted=!0}enviarDatos(){this.submitted=!0,!this.ionicForm.invalid&&this.clienteLogin.registroCliente(this.ionicForm.value).subscribe(t=>{this.registros=t,"NO"===this.registros.authorized?(console.log("Mostrando alerta de error..."),this.mostrarAlertaNO("Error","Email ya registrado")):this.mostrarAlertaOK("Enhorabuena","Cliente creado correctamente")},t=>{console.error("Error en la solicitud:",t),console.log("Mostrando alerta de error en la solicitud..."),this.mostrarAlertaNO("Error","Email ya registrado")})}mostrarAlertaOK(t,i){var a=this;return(0,p.Z)(function*(){yield(yield a.alertController.create({header:t,message:i,buttons:[{text:"OK",handler:()=>{window.location.href="/logincli"}}],cssClass:"custom-alert-header"})).present()})()}mostrarAlertaNO(t,i){var a=this;return(0,p.Z)(function*(){yield(yield a.alertController.create({header:t,message:i,buttons:["OK"],cssClass:"custom-alert-header"})).present()})()}}return(o=n).\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(b.Y),e.Y36(l.Br))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-registrocli"]],decls:50,vars:12,consts:[["slot","start"],["href","/inicio"],["src","./../../../assets/img/ic-inicio.png",2,"width","84px"],[3,"formGroup","ngSubmit"],["lines","full"],["position","floating"],["type","text","formControlName","nombre"],["class","errormessage","position","floating",4,"ngIf"],["type","text","formControlName","apellido"],["type","text","formControlName","email"],["type","text","formControlName","telf"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],["style","margin-bottom: 5px;","class","errormessage","position","floating",4,"ngIf"],["lines","full",2,"display","none"],["type","text","formControlName","rol"],[1,"custom-button",3,"click"],["position","floating",1,"errormessage"],["position","floating",1,"errormessage",2,"margin-bottom","5px"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"a",1),e._UZ(4,"img",2),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6,"Registro Cliente"),e.qZA()()(),e.TgZ(7,"ion-content")(8,"form",3),e.NdJ("ngSubmit",function(){return i.enviarDatos()}),e.TgZ(9,"ion-item",4)(10,"ion-label",5),e._uU(11,"Nombre"),e.qZA(),e._UZ(12,"ion-input",6),e.qZA(),e.YNc(13,_,2,0,"ion-label",7),e.TgZ(14,"ion-item",4)(15,"ion-label",5),e._uU(16,"Apellido"),e.qZA(),e._UZ(17,"ion-input",8),e.qZA(),e.YNc(18,Z,2,0,"ion-label",7),e.TgZ(19,"ion-item",4)(20,"ion-label",5),e._uU(21,"Email"),e.qZA(),e._UZ(22,"ion-input",9),e.qZA(),e.YNc(23,h,2,0,"ion-label",7)(24,P,2,0,"ion-label",7),e.TgZ(25,"ion-item",4)(26,"ion-label",5),e._uU(27,"Tel\xe9fono"),e.qZA(),e._UZ(28,"ion-input",10),e.qZA(),e.YNc(29,T,2,0,"ion-label",7)(30,I,2,0,"ion-label",7),e.TgZ(31,"ion-item",4)(32,"ion-label",5),e._uU(33,"Password"),e.qZA(),e._UZ(34,"ion-input",11),e.qZA(),e.YNc(35,q,2,0,"ion-label",7)(36,A,2,0,"ion-label",7),e.TgZ(37,"ion-item",4)(38,"ion-label",5),e._uU(39,"Confirmaci\xf3n Password"),e.qZA(),e._UZ(40,"ion-input",12),e.YNc(41,R,2,0,"ion-label",7)(42,w,2,0,"ion-label",13),e.qZA(),e.TgZ(43,"ion-item",14),e._UZ(44,"ion-input",15),e.qZA(),e.YNc(45,N,1,0,"ion-label",7),e.TgZ(46,"ion-row")(47,"ion-col")(48,"ion-button",16),e.NdJ("click",function(){return i.enviarDatos()}),e._uU(49," Registro "),e.qZA()()()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",i.ionicForm),e.xp6(5),e.Q6J("ngIf",null!=i.f.nombre.getError("required")),e.xp6(5),e.Q6J("ngIf",null!=i.f.apellido.getError("required")),e.xp6(5),e.Q6J("ngIf",null!=i.f.email.getError("required")),e.xp6(),e.Q6J("ngIf",null!=i.f.email.getError("pattern")),e.xp6(5),e.Q6J("ngIf",null!=i.f.telf.getError("required")),e.xp6(),e.Q6J("ngIf",null!=i.f.telf.getError("pattern")),e.xp6(5),e.Q6J("ngIf",null!=i.f.password.getError("required")),e.xp6(),e.Q6J("ngIf",null!=i.f.password.getError("minLength")),e.xp6(5),e.Q6J("ngIf",null!=i.f.password.getError("required")),e.xp6(),e.Q6J("ngIf",null!=i.f.password.getError("Mustmatch")),e.xp6(3),e.Q6J("ngIf",null!=i.f.rol.getError("required")))},dependencies:[f.O5,r._Y,r.JJ,r.JL,l.YG,l.Sm,l.wI,l.W2,l.Gu,l.pK,l.Ie,l.Q$,l.Nd,l.wd,l.sr,l.j9,r.sg,r.u],styles:['@charset "UTF-8";form[_ngcontent-%COMP%]{margin:20px}p[_ngcontent-%COMP%]{font-family:Lato}input.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid red}ion-button.custom-button[_ngcontent-%COMP%]{background-color:#ff830f;color:#fff;border-radius:10px}ion-title[_ngcontent-%COMP%]{text-align:center}']}),n})()}];let C=(()=>{var o;class n{}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.Bz.forChild(U),d.Bz]}),n})(),E=(()=>{var o;class n{}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[f.ez,r.u5,l.Pc,r.UX,C]}),n})()}}]);