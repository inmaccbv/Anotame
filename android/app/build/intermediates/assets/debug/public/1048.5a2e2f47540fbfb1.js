"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1048],{1048:(T,d,r)=>{r.r(d),r.d(d,{CodigoQrPageModule:()=>v});var u=r(6814),g=r(6223),a=r(878),s=r(9634),o=r(9212),p=r(1567),f=r(2333),h=r(2042),C=r(2471),m=r(7742);function x(t,c){if(1&t){const n=o.EpF();o.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",2),o._UZ(3,"ion-back-button",3),o.qZA(),o.TgZ(4,"ion-title",4),o._uU(5,"C\xf3digo QR"),o.qZA(),o.TgZ(6,"ion-buttons",5)(7,"ion-button",6),o.NdJ("click",function(){o.CHM(n);const i=o.oxw();return o.KtG(i.toggleDarkMode())}),o._UZ(8,"ion-icon",7),o.qZA(),o.TgZ(9,"ion-button",6),o.NdJ("click",function(){o.CHM(n);const i=o.oxw();return o.KtG(i.cerrarSesion())}),o._UZ(10,"ion-icon",8),o.qZA()()()()}if(2&t){const n=o.oxw();o.Tol(n.isDarkMode?"dark-theme":""),o.xp6(8),o.Q6J("name",n.isDarkMode?"sunny-outline":"moon-outline")}}function M(t,c){if(1&t&&(o.TgZ(0,"div",16),o._UZ(1,"qrcode",17),o.qZA()),2&t){const n=o.oxw(2);o.xp6(),o.Q6J("qrdata",n.textoQR)}}function P(t,c){if(1&t){const n=o.EpF();o.TgZ(0,"ion-content",9)(1,"div",10)(2,"label",11),o._uU(3,"URL para generar QR"),o.qZA(),o.YNc(4,M,2,1,"div",12),o.TgZ(5,"input",13),o.NdJ("ngModelChange",function(i){o.CHM(n);const l=o.oxw();return o.KtG(l.textoQR=i)}),o.qZA(),o.TgZ(6,"ion-button",14),o.NdJ("click",function(){o.CHM(n);const i=o.oxw();return o.KtG(i.imprimir())}),o._UZ(7,"ion-icon",15),o.qZA()()()}if(2&t){const n=o.oxw();o.xp6(4),o.Q6J("ngIf",n.textoQR),o.xp6(),o.Q6J("ngModel",n.textoQR)}}const _=[{path:"",component:(()=>{var t;class c{constructor(e,i,l,O,Z){this.ngxPrintService=e,this.router=i,this.authService=l,this.menuService=O,this.themeService=Z,this.textoQR="",this.getUserRole(),this.isDarkMode=this.themeService.isDarkTheme()}ngOnInit(){this.componentes=this.menuService.getMenuOpts(),this.textoQR=""}imprimir(){window.print()}getUserRole(){this.rol=this.authService.getUserRole(),"administrador"===this.rol||"encargado"===this.rol||(console.error("Usuario con rol",this.rol,"no tiene permiso para acceder a esta opci\xf3n."),this.authService.logout().subscribe(()=>{localStorage.removeItem("role"),localStorage.removeItem("usuario"),this.router.navigate(["/inicio"])},e=>{console.error("Error al cerrar sesi\xf3n:",e)}))}toggleDarkMode(){this.isDarkMode=!this.isDarkMode,this.themeService.setDarkTheme(this.isDarkMode)}cerrarSesion(){this.authService.logout().subscribe()}}return(t=c).\u0275fac=function(e){return new(e||t)(o.Y36(p.K8),o.Y36(s.F0),o.Y36(f.e),o.Y36(h.h),o.Y36(C.f))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-codigo-qr"]],decls:2,vars:2,consts:[[3,"class",4,"ngIf"],["class","custom-content",4,"ngIf"],["slot","start"],["defaultHref","/home",2,"--color","#ff830f"],["color","primary",2,"text-align","center"],["slot","end"],[3,"click"],[2,"color","#ff830f","font-size","24px",3,"name"],["name","log-out-outline","size","large",1,"color-salir",2,"color","#ff830f"],[1,"custom-content"],[1,"custom-content-wrapper"],[2,"margin-top","15px","text-align","center","margin-bottom","15px"],["id","print-qr","style","margin-left: 93px;","id","print-qr",4,"ngIf"],["placeholder","Introduce URL..",1,"input-qr",3,"ngModel","ngModelChange"],[1,"no-print",3,"click"],["name","print-outline",1,"print"],["id","print-qr","id","print-qr",2,"margin-left","93px"],[1,"codigoQR",3,"qrdata"]],template:function(e,i){1&e&&o.YNc(0,x,11,3,"ion-header",0)(1,P,8,2,"ion-content",1),2&e&&(o.Q6J("ngIf","administrador"===i.rol||"encargado"===i.rol),o.xp6(),o.Q6J("ngIf","administrador"===i.rol||"encargado"===i.rol))},dependencies:[u.O5,g.Fj,g.JJ,g.On,a.YG,a.Sm,a.W2,a.Gu,a.gu,a.wd,a.sr,a.oU,m.V],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}ion-content[_ngcontent-%COMP%]   .custom-content-wrapper[_ngcontent-%COMP%]{margin:40px 20px 20px}ion-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:large;color:#ff830f;font-weight:700;display:block;margin-bottom:10px}ion-content[_ngcontent-%COMP%]   .color-salir[_ngcontent-%COMP%]{color:#ff830f}ion-content[_ngcontent-%COMP%]   #print-qr[_ngcontent-%COMP%]{margin:10px 0}@media print{ion-content[_ngcontent-%COMP%]   .no-print[_ngcontent-%COMP%]{display:none}ion-content[_ngcontent-%COMP%]   #print-qr[_ngcontent-%COMP%]{width:800px;height:800px}ion-content[_ngcontent-%COMP%]   .codigoQR[_ngcontent-%COMP%]{width:100%;height:100%}}ion-button.no-print[_ngcontent-%COMP%]{margin:20px 8px 30px 23px}ion-icon.print[_ngcontent-%COMP%]{color:#fff!important}.input-qr[_ngcontent-%COMP%]{margin-left:15px}']}),c})()}];let Q=(()=>{var t;class c{}return(t=c).\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[s.Bz.forChild(_),s.Bz]}),c})(),v=(()=>{var t;class c{}return(t=c).\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[u.ez,g.u5,a.Pc,Q,m.N,p.K8]}),c})()}}]);