"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1665],{1665:(y,g,n)=>{n.r(g),n.d(g,{DescripcionClientePageModule:()=>Z});var a=n(6814),u=n(6223),s=n(878),p=n(9634),e=n(9212),d=n(2333),m=n(1770),h=n(3681),f=n(1660),x=n(2471);const v=["idEmpresaInput"];function C(t,r){if(1&t){const i=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title",3),e._uU(5,"Descripci\xf3n Local"),e.qZA(),e.TgZ(6,"ion-buttons",4)(7,"ion-button",5),e.NdJ("click",function(){e.CHM(i);const c=e.oxw();return e.KtG(c.toggleDarkMode())}),e._UZ(8,"ion-icon",6),e.qZA(),e.TgZ(9,"ion-button",5),e.NdJ("click",function(){e.CHM(i);const c=e.oxw();return e.KtG(c.cerrarSesion())}),e._UZ(10,"ion-icon",7),e.qZA()()()()}if(2&t){const i=e.oxw();e.Tol(i.isDarkMode?"dark-theme":""),e.xp6(8),e.Q6J("name",i.isDarkMode?"sunny-outline":"moon-outline")}}function D(t,r){if(1&t&&(e.TgZ(0,"div")(1,"div",12)(2,"ion-title",13),e._uU(3),e.qZA()(),e.TgZ(4,"div",14)(5,"p",15),e._uU(6),e.qZA()()()),2&t){const i=r.$implicit;e.xp6(3),e.Oqu(i.nomLocal),e.xp6(3),e.Oqu(i.texto)}}const M=t=>({"dark-theme":t});function P(t,r){if(1&t&&(e.TgZ(0,"ion-content"),e._UZ(1,"input",8,9),e.TgZ(3,"div",10),e.YNc(4,D,7,2,"div",11),e.qZA()()),2&t){const i=e.oxw();e.Tol(e.VKq(4,M,i.isDarkMode)),e.xp6(),e.Q6J("value",i.idEmpresa),e.xp6(3),e.Q6J("ngForOf",i.textosFiltrados)}}const T=[{path:"",component:(()=>{var t;class r{constructor(o,c,l,_,k,O){this.router=o,this.authService=c,this.menuCli=l,this.textoService=_,this.authServiceCliente=k,this.themeService=O,this.getUserRole(),this.isDarkMode=this.themeService.isDarkTheme()}ngOnInit(){this.componentes=this.menuCli.getMenuOptsCli();const o=localStorage.getItem("id_empresa");this.idEmpresa=o?parseInt(o,10):null,this.getTexto()}getTexto(){null!==this.idEmpresa?this.textoService.getTextosByEmpresa(this.idEmpresa).subscribe(o=>{200===o.code?(this.textos=o.data,this.textosFiltrados=o.data,console.log("Textos obtenidos:",this.textos)):console.error("Error en la respuesta:",o.texto)},o=>{console.error("Error al obtener los textos:",o)}):console.error("ID de empresa no v\xe1lido.")}getUserRole(){this.rol=this.authService.getUserRole(),"cliente"!==this.rol&&(console.error("Cliente con rol",this.rol,"no tiene permiso para acceder a esta opci\xf3n."),this.authService.logout().subscribe(()=>{localStorage.removeItem("role"),localStorage.removeItem("cliente"),this.router.navigate(["/logincli"])},o=>{console.error("Error al cerrar sesion:",o)}))}toggleDarkMode(){this.isDarkMode=!this.isDarkMode,this.themeService.setDarkTheme(this.isDarkMode)}cerrarSesion(){this.authServiceCliente.logout().subscribe()}}return(t=r).\u0275fac=function(o){return new(o||t)(e.Y36(p.F0),e.Y36(d.e),e.Y36(m.g),e.Y36(h.r),e.Y36(f.S),e.Y36(x.f))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-descripcion-cliente"]],viewQuery:function(o,c){if(1&o&&e.Gf(v,5),2&o){let l;e.iGM(l=e.CRH())&&(c.idEmpresaInput=l.first)}},decls:2,vars:2,consts:[[3,"class",4,"ngIf"],["slot","start"],["defaultHref","/homecli",2,"--color","#ff830f"],["color","primary"],["slot","end"],[3,"click"],[2,"color","#ff830f","font-size","24px",3,"name"],["name","log-out-outline","size","large",1,"color-salir"],["type","hidden",3,"value"],["idEmpresaInput",""],[2,"margin-left","20px","margin-right","18px","margin-top","15px"],[4,"ngFor","ngForOf"],[2,"overflow-wrap","break-word","max-width","350px","color","#ff830f"],[2,"font-size","25px"],[2,"overflow-wrap","break-word","max-width","350px","white-space","pre-line","margin-bottom","10px"],[1,"white-text",2,"font-size","20px"]],template:function(o,c){1&o&&e.YNc(0,C,11,3,"ion-header",0)(1,P,5,6,"ion-content",0),2&o&&(e.Q6J("ngIf","cliente"===c.rol),e.xp6(),e.Q6J("ngIf","cliente"===c.rol))},dependencies:[a.sg,a.O5,s.YG,s.Sm,s.W2,s.Gu,s.gu,s.wd,s.sr,s.oU],styles:[".color-salir[_ngcontent-%COMP%]{color:#ff830f}.dark-theme[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}ion-title[_ngcontent-%COMP%]{text-align:center;font-weight:700}.dark-theme[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%], ion-icon[_ngcontent-%COMP%], ion-text[_ngcontent-%COMP%]{color:#ff830f!important}.texto-container[_ngcontent-%COMP%]{margin:20px}"]}),r})()}];let S=(()=>{var t;class r{}return(t=r).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(T),p.Bz]}),r})(),Z=(()=>{var t;class r{}return(t=r).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.ez,u.u5,s.Pc,S]}),r})()}}]);