"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9433],{9433:(I,u,r)=>{r.r(u),r.d(u,{ContactocliPageModule:()=>y});var g=r(6814),p=r(6223),a=r(878),d=r(9634),o=r(9212),f=r(1660),_=r(344),m=r(7594),C=r(2471),x=r(9306),v=r(1770);function M(t,i){if(1&t){const n=o.EpF();o.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1),o._UZ(3,"ion-back-button",2),o.qZA(),o.TgZ(4,"ion-title",3),o._uU(5,"Contacto"),o.qZA(),o.TgZ(6,"ion-buttons",4)(7,"ion-button",5),o.NdJ("click",function(){o.CHM(n);const c=o.oxw();return o.KtG(c.toggleDarkMode())}),o._UZ(8,"ion-icon",6),o.qZA(),o.TgZ(9,"ion-button",5),o.NdJ("click",function(){o.CHM(n);const c=o.oxw();return o.KtG(c.cerrarSesion())}),o._UZ(10,"ion-icon",7),o.qZA()()()()}if(2&t){const n=o.oxw();o.Tol(n.isDarkMode?"dark-theme":""),o.xp6(8),o.Q6J("name",n.isDarkMode?"sunny-outline":"moon-outline")}}function P(t,i){if(1&t&&(o.TgZ(0,"div",14),o._UZ(1,"ion-icon",15),o.TgZ(2,"p"),o._uU(3),o.qZA(),o._UZ(4,"ion-icon",16),o.TgZ(5,"p"),o._uU(6),o.qZA(),o._UZ(7,"ion-icon",17),o.TgZ(8,"p"),o._uU(9),o.qZA(),o.TgZ(10,"p"),o._uU(11),o.qZA()()),2&t){const n=i.$implicit,e=o.oxw(2);o.Q6J("ngClass",e.isDarkMode?"dark-theme":"light-theme"),o.xp6(3),o.Oqu(n.nomLocal),o.xp6(3),o.Oqu(n.direccion),o.xp6(3),o.Oqu(n.telf1),o.xp6(2),o.Oqu(n.telf2)}}function O(t,i){if(1&t&&(o.ynx(0),o._uU(1),o.BQk()),2&t){const n=o.oxw().$implicit;o.xp6(),o.AsE(" ",n.hora_apertura," \u2013 ",n.hora_cierre," ")}}function S(t,i){1&t&&(o.ynx(0),o._uU(1," Cerrado "),o.BQk())}function Z(t,i){if(1&t&&(o.TgZ(0,"ion-row")(1,"ion-col",18),o._uU(2),o.qZA(),o.TgZ(3,"ion-col",19),o.YNc(4,O,2,2,"ng-container",20)(5,S,2,0,"ng-container",20),o.qZA()()),2&t){const n=i.$implicit;o.xp6(2),o.Oqu(n.dia),o.xp6(2),o.Q6J("ngIf",n.hora_apertura&&n.hora_cierre),o.xp6(),o.Q6J("ngIf",!n.hora_apertura||!n.hora_cierre)}}const T=t=>({"dark-theme":t});function D(t,i){if(1&t&&(o.TgZ(0,"ion-content"),o._UZ(1,"input",8,9),o.YNc(3,P,12,5,"div",10),o.TgZ(4,"ion-grid",11),o._UZ(5,"ion-icon",12),o.YNc(6,Z,6,3,"ion-row",13),o.qZA()()),2&t){const n=o.oxw();o.Tol(o.VKq(5,T,n.isDarkMode)),o.xp6(),o.Q6J("value",n.idEmpresa),o.xp6(2),o.Q6J("ngForOf",n.datosFiltrados),o.xp6(3),o.Q6J("ngForOf",n.horariosSeleccionados)}}const U=[{path:"",component:(()=>{var t;class i{constructor(e,c,l,s,h,E,k){this.router=e,this.authServiceCliente=c,this.contactService=l,this.horariosService=s,this.themeService=h,this.clienteService=E,this.menuCli=k,this.horariosSeleccionados=[],this.getUserRole(),this.isDarkMode=this.themeService.isDarkTheme()}ngOnInit(){this.componentes=this.menuCli.getMenuOptsCli(),this.obtenerDatosUsuario();const e=localStorage.getItem("id_empresa");this.idEmpresa=e?parseInt(e,10):null,this.getDatos(),this.getHorarios()}getDatos(){null!==this.idEmpresa?this.contactService.getDatosByEmpresa(this.idEmpresa).subscribe(e=>{200===e.code?(this.datos=e.data,this.datosFiltrados=e.data,console.log("Datos obtenidos:",this.datos)):console.error("Error en la respuesta:",e.texto)},e=>{console.error("Error al obtener los datos:",e)}):console.error("ID de empresa no v\xe1lido.")}getHorarios(){null!==this.idEmpresa?this.horariosService.obtenerHorasByEmpresa(this.idEmpresa).subscribe(e=>{200===e.code?(this.horariosSeleccionados=e.data,this.marcarDiasCerrados()):console.error("Error en la respuesta:",e.horas)},e=>{console.error("Error al obtener los horarios:",e)}):console.error("ID de empresa no v\xe1lido.")}marcarDiasCerrados(){this.horariosSeleccionados=["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"].map(c=>this.horariosSeleccionados.find(s=>s.dia===c)||{dia:c,hora_apertura:"cerrado",hora_cierre:"cerrado",id_user:0,id_empresa:0})}obtenerDatosUsuario(){const e=localStorage.getItem("cliente");if(!e)return void console.error("Usuario no encontrado en el almacenamiento local");const l=JSON.parse(e).email;this.clienteService.getUserByEmail(l).subscribe(s=>{s&&200===s.code&&s.data?(this.clienteData=s.data,s.data.id_cliente.toString()):console.error("No se pudieron obtener los datos del usuario:",s.texto)},s=>{console.error("Error al obtener datos del usuario:",s)})}getUserRole(){this.rol=this.authServiceCliente.getUserRole(),"cliente"!==this.rol&&(console.error("Cliente con rol",this.rol,"no tiene permiso para acceder a esta opci\xf3n."),this.authServiceCliente.logout().subscribe(()=>{localStorage.removeItem("role"),localStorage.removeItem("usuario"),this.router.navigate(["/inicio"])},e=>{console.error("Error al cerrar sesion:",e)}))}toggleDarkMode(){this.isDarkMode=!this.isDarkMode,this.themeService.setDarkTheme(this.isDarkMode)}cerrarSesion(){this.authServiceCliente.logout().subscribe()}}return(t=i).\u0275fac=function(e){return new(e||t)(o.Y36(d.F0),o.Y36(f.S),o.Y36(_.A),o.Y36(m.p),o.Y36(C.f),o.Y36(x.Y),o.Y36(v.g))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-contactocli"]],decls:2,vars:2,consts:[[3,"class",4,"ngIf"],["slot","start"],["defaultHref","/homecli",2,"--color","#ff830f"],["color","primary"],["slot","end"],[3,"click"],[2,"color","#ff830f","font-size","24px",3,"name"],["name","log-out-outline","size","large",1,"color-salir"],["type","hidden",3,"value"],["idEmpresaInput",""],["class","text-container",3,"ngClass",4,"ngFor","ngForOf"],[1,"gridContent"],["name","time-outline",1,"timeIcon"],[4,"ngFor","ngForOf"],[1,"text-container",3,"ngClass"],["name","restaurant-outline"],["name","location-outline"],["name","call-outline"],["size","4",2,"font-weight","bold"],["size","8"],[4,"ngIf"]],template:function(e,c){1&e&&o.YNc(0,M,11,3,"ion-header",0)(1,D,7,7,"ion-content",0),2&e&&(o.Q6J("ngIf","cliente"===c.rol),o.xp6(),o.Q6J("ngIf","cliente"===c.rol))},dependencies:[g.mk,g.sg,g.O5,a.YG,a.Sm,a.wI,a.W2,a.jY,a.Gu,a.gu,a.Nd,a.wd,a.sr,a.oU],styles:[".text-container[_ngcontent-%COMP%]{margin-top:50px!important}.gridContent[_ngcontent-%COMP%]{margin:30px 40px 20px 55px!important}.large-text[_ngcontent-%COMP%]{font-size:1.8em}.header-text[_ngcontent-%COMP%]{font-weight:700;color:#ff830f}.my-custom-menu[_ngcontent-%COMP%]{--width: 500px}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}.text-container[_ngcontent-%COMP%]{text-align:center;margin-top:25px}ion-grid[_ngcontent-%COMP%]{margin-top:20px}ion-card[_ngcontent-%COMP%]{width:150px;height:180px;margin:0 20px 20px}ion-title[_ngcontent-%COMP%]{text-align:center}ion-row[_ngcontent-%COMP%]{justify-content:center}.card-image[_ngcontent-%COMP%]{width:50%;height:50%;object-fit:cover}.dark-theme[_ngcontent-%COMP%]   .image-dark[_ngcontent-%COMP%]{filter:invert(100%)}ion-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;padding:10px}ion-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700}ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px!important;margin:25px 25px 10px!important;color:#ff830f!important}.dark-theme[_ngcontent-%COMP%]{--ion-text-color: white}.color-salir[_ngcontent-%COMP%]{color:#ff830f}.orange-icons[_ngcontent-%COMP%]{color:#ff830f;font-size:1.8em}ion-icon[_ngcontent-%COMP%]{font-size:1.5em;color:#ff830f}.timeIcon[_ngcontent-%COMP%]{align-items:center;margin-left:110px;margin-bottom:15px}"]}),i})()}];let b=(()=>{var t;class i{}return(t=i).\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[d.Bz.forChild(U),d.Bz]}),i})(),y=(()=>{var t;class i{}return(t=i).\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[m.p],imports:[g.ez,p.u5,a.Pc,b]}),i})()}}]);