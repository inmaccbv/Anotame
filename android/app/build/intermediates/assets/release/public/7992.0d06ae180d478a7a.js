"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7992],{7992:(H,d,s)=>{s.r(d),s.d(d,{HomePageModule:()=>C});var g=s(6814),r=s(878),p=s(6223),l=s(9634),u=s(5861),f=s(2994),e=s(9212),h=s(2333),_=s(2471);function x(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"ion-col",10)(1,"ion-card"),e._UZ(2,"ion-card-header"),e.TgZ(3,"ion-card-content")(4,"button",11),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2).$implicit,c=e.oxw();return e.KtG(c.navigateToPage(i))}),e._UZ(5,"img",12),e.TgZ(6,"p",13),e._uU(7),e.qZA()()()()()}if(2&t){const n=e.oxw(2).$implicit,o=e.oxw();e.xp6(),e.Tol(o.isDarkMode?"dark-theme":""),e.xp6(4),e.ekj("image-dark",o.isDarkMode),e.s9C("src",n.image,e.LSH),e.s9C("alt",n.alt),e.xp6(2),e.Oqu(n.title)}}function P(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"ion-col",10)(1,"ion-card"),e._UZ(2,"ion-card-header"),e.TgZ(3,"ion-card-content")(4,"button",11),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2).index,c=e.oxw();return e.KtG(c.navigateToPage(c.cards[i+1]))}),e._UZ(5,"img",12),e.TgZ(6,"p",13),e._uU(7),e.qZA()()()()()}if(2&t){const n=e.oxw(2).index,o=e.oxw();e.xp6(),e.Tol(o.isDarkMode?"dark-theme":""),e.xp6(4),e.ekj("image-dark",o.isDarkMode),e.s9C("src",o.cards[n+1].image,e.LSH),e.s9C("alt",o.cards[n+1].alt),e.xp6(2),e.Oqu(o.cards[n+1].title)}}function v(t,a){if(1&t&&(e.TgZ(0,"ion-row"),e.YNc(1,x,8,7,"ion-col",9)(2,P,8,7,"ion-col",9),e.qZA()),2&t){const n=e.oxw().index,o=e.oxw();e.xp6(),e.Q6J("ngIf",o.showCard(o.cards[n])),e.xp6(),e.Q6J("ngIf",n+1<o.cards.length&&o.showCard(o.cards[n+1]))}}function M(t,a){if(1&t&&(e.ynx(0),e.YNc(1,v,3,2,"ion-row",8),e.BQk()),2&t){const n=a.index;e.xp6(),e.Q6J("ngIf",n%2==0)}}const k=[{path:"",component:(()=>{var t;class a{constructor(o,i,c,m,Z){this.menu=o,this.popoverController=i,this.router=c,this.authService=m,this.themeService=Z,this.cards=[{title:"Reservas",image:"./assets/img/ic_reservar.png",alt:"Imagen 1",href:"/gestion-reservas",roles:["administrador","encargado","camarero"]},{title:"Rese\xf1as",image:"./assets/img/ic-reviews.png",alt:"Imagen 2",href:"/reviews",roles:["administrador","encargado"]},{title:"Gesti\xf3n carta/men\xfa",image:"./assets/img/ic-carta.png",alt:"Imagen 3",href:"/gestion-menu-carta",roles:["administrador","encargado"]},{title:"Descripci\xf3n Local",image:"./assets/img/ic-descripcion.png",alt:"Imagen 4",href:"/descripcion-local",roles:["administrador","encargado"]},{title:"Contacto",image:"./assets/img/ic-contacto.png",alt:"Imagen 5",href:"/contacto",roles:["administrador","encargado"]},{title:"Generar QR",image:"./assets/img/ic-qr.png",alt:"Imagen 6",href:"/codigo-qr",roles:["administrador","encargado"]},{title:"Horarios",image:"./assets/img/ic-horario.png",alt:"Imagen 8",href:"/horarios",roles:["administrador","encargado"]},{title:"Empleados",image:"./assets/img/ic-config-usuarios.png",alt:"Imagen 7",href:"/config-empleados",roles:["administrador"]}],this.isDarkMode=this.themeService.isDarkTheme()}navigateToPage(o){this.router.navigateByUrl(o.href)}showCard(o){const i=this.authService.getUserRole();return"string"==typeof i&&o.roles.includes(i)}getUserRole(){this.rol=this.authService.getUserRole(),"administrador"===this.rol||"encargado"===this.rol||"camarero"===this.rol||this.authService.logout().subscribe(()=>{localStorage.removeItem("role"),localStorage.removeItem("usuario"),this.router.navigate(["/inicio"])},o=>{console.error("Error al cerrar sesi\xf3n:",o)})}mostrarPopover(o){var i=this;return(0,u.Z)(function*(){yield(yield i.popoverController.create({component:f.A,componentProps:{usuarioData:o},translucent:!0,cssClass:"my-custom-popover"})).present()})()}mostrarMenu(){this.menu.open("first")}closeMenu(){this.menu.close("first")}toggleDarkMode(){this.isDarkMode=!this.isDarkMode,this.themeService.setDarkTheme(this.isDarkMode)}}return(t=a).\u0275fac=function(o){return new(o||t)(e.Y36(r._q),e.Y36(r.Dh),e.Y36(l.F0),e.Y36(h.e),e.Y36(_.f))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-home"]],decls:14,vars:6,consts:[["slot","start"],["menu","first",2,"color","#ff830f"],["color","primary"],["slot","end"],[3,"click"],[2,"color","#ff830f","font-size","24px",3,"name"],["name","happy-outline",2,"font-size","24px","margin-top","4px","margin-right","3px","color","#ff830f"],[4,"ngFor","ngForOf"],[4,"ngIf"],["size","6","size-md","4","size-lg","2",4,"ngIf"],["size","6","size-md","4","size-lg","2"],[1,"transparent-button",3,"click"],[1,"card-image",3,"src","alt"],["color","primary",1,"card-title",2,"font-size","18px !important"]],template:function(o,i){1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-menu-button",1),e.qZA(),e.TgZ(4,"ion-title",2),e._uU(5,"An\xf3tame"),e.qZA(),e.TgZ(6,"ion-buttons",3)(7,"ion-button",4),e.NdJ("click",function(){return i.toggleDarkMode()}),e._UZ(8,"ion-icon",5),e.qZA(),e.TgZ(9,"a",4),e.NdJ("click",function(m){return i.mostrarPopover(m)}),e._UZ(10,"ion-icon",6),e.qZA()()()(),e.TgZ(11,"ion-content")(12,"ion-grid"),e.YNc(13,M,2,1,"ng-container",7),e.qZA()()),2&o&&(e.Tol(i.isDarkMode?"dark-theme":""),e.xp6(8),e.Q6J("name",i.isDarkMode?"sunny-outline":"moon-outline"),e.xp6(3),e.ekj("dark-theme",i.isDarkMode),e.xp6(2),e.Q6J("ngForOf",i.cards))},dependencies:[g.sg,g.O5,r.YG,r.Sm,r.PM,r.FN,r.Zi,r.wI,r.W2,r.jY,r.Gu,r.gu,r.fG,r.Nd,r.wd,r.sr],styles:['@charset "UTF-8";.my-custom-menu[_ngcontent-%COMP%]{--width: 500px}ion-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}ion-card[_ngcontent-%COMP%]{width:150px;height:195px;margin:10px 10px 1px 8px}.card-image[_ngcontent-%COMP%]{width:50%;height:50%;object-fit:cover}.dark-theme[_ngcontent-%COMP%]   .image-dark[_ngcontent-%COMP%]{filter:invert(100%)}ion-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;padding:10px}ion-card-content[_ngcontent-%COMP%]   p.card-title[_ngcontent-%COMP%]{font-size:18px!important;margin-bottom:5px}ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px!important;margin:25px 25px 10px!important;color:#ff830f!important}.color-salir[_ngcontent-%COMP%]{color:#ff830f}ion-title[_ngcontent-%COMP%]{text-align:center}.transparent-button[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;cursor:pointer}']}),a})()}];let T=(()=>{var t;class a{}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.Bz.forChild(k),l.Bz]}),a})(),C=(()=>{var t;class a{}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,p.u5,r.Pc,T]}),a})()}}]);